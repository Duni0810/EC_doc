PS/2 连接 一般之后4个引脚有意义；分别是Clock(时钟脚)、DATA(数据脚)、+5V(电源脚)和Ground(电源地)，其中时钟线和数据线必须接上拉电阻。


电气属性
一般两设备间传输数据的最大时钟频率是33kHz，大多数ps/2设备工作在10~20kHz。推荐值在 15kHz左右，也就是说，Clock(时钟脚)高、低电平的持续时间都为40μs。


1个起始位              总是逻辑0
8个数据位             （LSB）低位在前
1个奇偶校验位          奇校验
1个停止位              总是逻辑1
1个应答位              仅用在主机对设备的通讯中


从键盘/鼠标发送到主机的数据在时钟信号的下降沿 当时钟从高变到低的时候 被读取 从主机发送到键盘/鼠标的数据在上升沿 当时钟从低变到高的时候 被读取


设备到主机的通讯 当时钟为高 数据线改变状态 在时钟信号的下降沿数据被锁存






PS/2设备向PC机发送一个字节

(1)等待时钟为高电平，并延时50us；
(2)检测判断时钟信号是否为高，为高，则向下执行，为低，则转到(1)；
(3)检测数据线是否为高，如果为高则继续执行，如果为低，则放弃发送(此时PC机在向PS/2设备发送数据，所以PS/2设备要转移到接收程序处接收数据)；
(4)延时20μs(如果此时正在发送起始位，则应延时４0μs)；
(5)输出起始位(0)到数据线上。这里要注意的是：在送出每一位后都要检测时钟线，以确保PC机没有抑制PS/2设备，如果有则中止发送；
(6)输出8个数据位到数据线上；
(7)输出校验位；
(8)输出停止位(1)；
(9)延时30μs(如果在发送停止位时释放时钟信号则应延时50μs)；

通过以下步骤可发送单个位：
(1)准备数据位(将需要发送的数据位放到数据线上)；
(2)延时20μs；
(3)把时钟线拉低；
(4)延时４0μs；
(5)释放时钟线；
(6)延时20μs。





PS/2设备向PC机读取一个字节

这时为PC主机发送数据，所以PC机通过下拉时钟线大于 100μs来抑制通讯，然后再释放总线来发送数据，主机此时在时钟线变为低时准备数据到数据线，并在时钟上升沿锁存数据。而PS/2设备则要配合PC机才能读到准确的数据。

(1)等待时钟线为高电平。
(2)判断数据线是否为低，为高则错误退出，否则继续执行。
(3)读地址线上的数据内容，共8个bit，每读完一个位，都应检测时钟线是否被PC机拉低，如果被拉低则要中止接收。
(4)读地址线上的校验位内容，1个bit。
(5)读停止位。
(6)如果数据线上为0(即还是低电平)，PS/2设备继续产生时钟，直到接收到1且产生出错号为止(因为停止位是1，如果PS/2设备没有读到停止位，则表明此次传输出错)。
(7) 输出应答位。
(8) 检测奇偶校验位，如果校验失败，则产生错误信号以表明此次传输出现错误。
(9)延时４5 μs，以便PC机进行下一次传输。


读取一个位的步骤如下：

(1)延时20μs；
(2)把时钟线拉低
(3)延时４0μs
(4)释放时钟线
(5)延时20μs
(6)读数据线。

下面的步骤可用于发出应答位；
(1)延时15μs；
(2)把数据线拉低；
(3)延时5μs；
(4)把时钟线拉低；
(5)延时４0μs；
(6)释放时钟线；
(7)延时5μs；
(8)释放数据线。




主机发送数据到设备


时钟都是由PS/2设备发出。主机要向设备发送数据，需要把时钟和数据线设置为“请求发送”状态。主机拉低信号线表示抑制通讯。

(1) 主机拉低时钟线至少100us
(2) 吧数据线拉低，相当于请求发送信号，也就是起始位。
(3) 主机释放数据线。
(4) 主机释放数据线，并等待设备把时钟线拉低，主机拉低时钟到设备产生时钟时间不超过15ms
(5) 主机发送8位数据，将数据放置在数据线上，每设置一个数据都得等待设备吧时钟线拉高，在时钟上升沿时，对数据进行锁存，等待设备在把时钟拉低，如此反复8次发送数据。
(6) 主机释放数据线。如果如果主机在第11个时钟脉冲后不释放数据线，设备将继续产生时钟脉冲直到数据线被释放然后设备将产生一个错误。
(7) 等待设备把数据线拉低。
(8) 等待设备吧时钟线线拉低。
(9) 等待设备释放时钟线和数据线。





